# Обновление: Русские названия + Оригинальные названия

## Что было сделано

Теперь при загрузке чека приложение отображает:
- **Русское название** продукта (крупно, основное)
- **Оригинальное название** с чека (мелким шрифтом, серым цветом)

## Изменения

### 1. База данных
- Добавлено поле `original_name` в таблицу `products`

### 2. AI обработка чеков
- Perplexity AI теперь возвращает два названия:
  - `name` - красивое русское название (например: "Молоко 3.2% 1L")
  - `originalName` - точное название с чека (например: "MILK 3.2% 1L")

### 3. Интерфейс
Оригинальное название отображается мелким шрифтом под русским в:
- Сообщении об успешной загрузке чека
- Списке продуктов на главной странице
- Странице "Продукты"

## Установка обновления

### Шаг 1: Обновить базу данных

Выполните SQL-миграцию в вашей базе Supabase:

```sql
-- Запустите файл migration_add_original_name.sql
ALTER TABLE products 
ADD COLUMN IF NOT EXISTS original_name VARCHAR(255);
```

Или выполните через Supabase Dashboard:
1. Откройте SQL Editor в Supabase
2. Скопируйте содержимое файла `migration_add_original_name.sql`
3. Выполните запрос

### Шаг 2: Перезапустить приложение

```bash
npm run dev
```

## Как это выглядит

### При загрузке чека:
```
Чек успешно обработан!
Добавлено 3 товаров:
• Молоко 3.2% 1L
  MILK 3.2% 1L
  1 л - €1.89 (620 ккал)
```

### В списке продуктов:
```
Молоко 3.2% 1L
MILK 3.2% 1L
Куплено 5 раз
```

## Примечания

- Если чек на русском языке, оба поля могут быть одинаковыми
- Для существующих продуктов поле `original_name` будет пустым (NULL)
- При следующей покупке существующего продукта оригинальное название будет сохранено
- Если оригинальное название отсутствует, оно просто не отображается в UI

## Обновлённые файлы

- `database_schema.sql` - добавлено поле `original_name`
- `src/lib/supabase.ts` - обновлён интерфейс `Product`
- `src/services/perplexityService.ts` - обновлён промпт и интерфейс `ReceiptItem`
- `src/services/supabaseService.ts` - добавлено сохранение `original_name`
- `src/GroceryTrackerApp.tsx` - обновлён UI для отображения обоих названий
- `migration_add_original_name.sql` - SQL-миграция для существующей БД

