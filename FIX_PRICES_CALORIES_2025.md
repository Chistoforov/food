# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –∏ –∫–∞–ª–æ—Ä–∏–π (31 –æ–∫—Ç—è–±—Ä—è 2025)

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ–∫–∞ —Ü–µ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–ü—Ä–∏–º–µ—Ä –∏–∑ –≤–∞—à–µ–≥–æ —á–µ–∫–∞:**
```
üßæ –í —á–µ–∫–µ: –°—ã—Ä Rambol 212–≥ ‚Äî 4,24‚Ç¨
üì± –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: 20,00‚Ç¨ ‚ùå
```

## üîç –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–æ —Ü–µ–Ω—É**:

```typescript
// –°–¢–ê–†–´–ô –ö–û–î (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
const unitPrice = item.price / item.quantity
// –î–ª—è —Å—ã—Ä–∞: 4.24 / 0.212 = 20‚Ç¨ –∑–∞ –∫–≥ ‚ùå
```

**–õ–æ–≥–∏–∫–∞ –±—ã–ª–∞:**
1. API –ø–æ–ª—É—á–∞–ª –∏–∑ —á–µ–∫–∞: `quantity=0.212` (212 –≥—Ä–∞–º–º), `price=4.24‚Ç¨`
2. –ö–æ–¥ –¥–µ–ª–∏–ª —Ü–µ–Ω—É –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: `4.24 / 0.212 = 20‚Ç¨`
3. –≠—Ç–∞ "—Ü–µ–Ω–∞ –∑–∞ –∫–≥" —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å –∫–∞–∫ —Ü–µ–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞

**–ù–æ —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!** –í —á–µ–∫–µ —É–∂–µ —É–∫–∞–∑–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞ ‚Äî **4,24‚Ç¨** –∑–∞ –∫—É–ø–ª–µ–Ω–Ω—ã–µ 212–≥.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/services/supabaseService.ts`:**
```typescript
// –ù–û–í–´–ô –ö–û–î (–ü–†–ê–í–ò–õ–¨–ù–û):
price: item.price  // –¶–µ–Ω–∞ –∏–∑ —á–µ–∫–∞ - —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è!
calories: item.calories  // –ö–∞–ª–æ—Ä–∏–∏ –¥–ª—è –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
```

**–¢–µ–ø–µ—Ä—å:**
- –¶–µ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è **–∫–∞–∫ –µ—Å—Ç—å –∏–∑ —á–µ–∫–∞** (–±–µ–∑ –ø–µ—Ä–µ—Å—á–µ—Ç–∞)
- –ö–∞–ª–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è **–ø–æ–ª–Ω–æ–≥–æ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞**

### 2. –£–ª—É—á—à–µ–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è AI

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/services/perplexityService.ts`:**

–î–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI:

```
–ü–†–ê–í–ò–õ–û: price - —ç—Ç–æ –í–°–ï–ì–î–ê –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (–ø—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ –≤ —á–µ–∫–µ)!

–ü—Ä–∏–º–µ—Ä—ã:
1. –£–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã:
   - "–ì—É–∞–∫–∞–º–æ–ª–µ 200–≥ - 1.95‚Ç¨" ‚Üí quantity=1, price=1.95
   
2. –¢–æ–≤–∞—Ä—ã –Ω–∞ –≤–µ—Å:
   - "–°—ã—Ä Rambol 0.212 X 19.98 = 4.24‚Ç¨" ‚Üí quantity=0.212, price=4.24
   - "–Ø–±–ª–æ–∫–∏ 0.5 X 2.99 = 1.50‚Ç¨" ‚Üí quantity=0.5, price=1.50
```

### 3. SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `fix_prices_and_calories.sql`

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü–µ `products`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `product_history`
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–æ –∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `fix_prices_and_calories.sql`
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
5. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫ –∑–∞–Ω–æ–≤–æ

1. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —á–µ–∫ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ä–∞–∑–¥–µ–ª "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞")
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ–∫ —Å–Ω–æ–≤–∞
3. –¢–µ–ø–µ—Ä—å —Ü–µ–Ω—ã –±—É–¥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –¶–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **—Ç–æ—á–Ω–æ –∫–∞–∫ –≤ —á–µ–∫–µ**
- ‚úÖ –î–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤–µ—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–Ω–∞ –∑–∞ –∫—É–ø–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- ‚úÖ –î–ª—è —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–Ω–∞ –∑–∞ —É–ø–∞–∫–æ–≤–∫—É
- ‚úÖ –ö–∞–ª–æ—Ä–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –¥–ª—è –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

## üìä –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —Ü–µ–Ω—ã

### –£–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Å)
```
–ß–µ–∫: –ì—É–∞–∫–∞–º–æ–ª–µ 200–≥ ‚Äî 1,95‚Ç¨
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ‚Ç¨1.95 ‚úÖ
```

### –¢–æ–≤–∞—Ä—ã –Ω–∞ –≤–µ—Å
```
–ß–µ–∫: –°—ã—Ä Rambol 212–≥ (0.212 –∫–≥) ‚Äî 4,24‚Ç¨
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ‚Ç¨4.24 ‚úÖ
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—Ü
```
–ß–µ–∫: –ú–æ–ª–æ–∫–æ 3 X 1,50‚Ç¨ ‚Äî 4,50‚Ç¨
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ‚Ç¨4.50 ‚úÖ
```

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `products`:**
- `price` ‚Äî —Ü–µ–Ω–∞ **–ø–æ—Å–ª–µ–¥–Ω–µ–π** –ø–æ–∫—É–ø–∫–∏ (–∫–∞–∫ –≤ —á–µ–∫–µ)
- `calories` ‚Äî –∫–∞–ª–æ—Ä–∏–∏ **–ø–æ—Å–ª–µ–¥–Ω–µ–π** –ø–æ–∫—É–ø–∫–∏

**–¢–∞–±–ª–∏—Ü–∞ `product_history`:**
- `price` ‚Äî —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ (–∏—Ç–æ–≥–æ–≤–∞—è)
- `quantity` ‚Äî –∫—É–ø–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `unit_price` ‚Äî —Ü–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (–¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)

### –ü–æ—á–µ–º—É –Ω–µ —Ö—Ä–∞–Ω–∏–º "—Ü–µ–Ω—É –∑–∞ –µ–¥–∏–Ω–∏—Ü—É" –≤ products?

–ü–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤–µ—Å —ç—Ç–æ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞:
- –°—ã—Ä –ø–æ 20‚Ç¨/–∫–≥: –∫—É–ø–∏–ª–∏ 212–≥ –∑–∞ 4,24‚Ç¨
- –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å? **4,24‚Ç¨** ‚Äî —ç—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚úÖ
- **20‚Ç¨/–∫–≥** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚ùå

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ

### –î–æ (‚ùå):
```typescript
// –î–µ–ª–∏–ª–∏ —Ü–µ–Ω—É –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
const unitPrice = item.price / item.quantity
product.price = unitPrice  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
product.calories = item.calories / item.quantity  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

### –ü–æ—Å–ª–µ (‚úÖ):
```typescript
// –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∫ –µ—Å—Ç—å –∏–∑ —á–µ–∫–∞
product.price = item.price  // –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
product.calories = item.calories  // –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
```

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 31 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

