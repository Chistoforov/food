# ะะตะทัะผะต ะธะทะผะตะฝะตะฝะธะน: ะะฑะฝะพะฒะปะตะฝะธะต ะปะพะณะธะบะธ ััะฐัััะพะฒ ะฟัะพะดัะบัะพะฒ

## ๐ ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ

### โ 1. ะะทะผะตะฝะตะฝ ะฒัะฒะพะด ัะธะฟะพะฒ ะฟัะพะดัะบัะพะฒ ะฝะฐ ะณะปะฐะฒะฝะพะน ัััะฐะฝะธัะต

**ะัะปะพ:**
```
โโโโโโโโโโโโโโโโโโโ
โ ะฅะปะตะฑ ะฑะตะปัะน      โ
โ ะัะตะณะพ: 2        โ
โ ะะฐะบะฐะฝัะธะฒะฐะตััั:1 โ
โ ะะฐัััะตั: 1      โ
โโโโโโโโโโโโโโโโโโโ
```

**ะกัะฐะปะพ:**
```
โโโโโโโโโโโโโโโโโโโ
โ ะฅะปะตะฑ            โ
โ ะะฐะบะฐะฝัะธะฒะฐะตััั   โ
โโโโโโโโโโโโโโโโโโโ
```

**ะะพะณะธะบะฐ ะพะฟัะตะดะตะปะตะฝะธั ััะฐัััะฐ ะขะะะ ะฟัะพะดัะบัะฐ:**

1. **ะัะปะธ ะตััั ัะพัั ะพะดะธะฝ ะฟัะพะดัะบั ัะธะฟะฐ, ะบัะฟะปะตะฝะฝัะน ะฝะตะดะฐะฒะฝะพ (< 2 ะดะฝะตะน) โ ัะธะฟ "ะ ะฝะฐะปะธัะธะธ"**
   - ะัะธะผะตั: ะัะฟะธะปะธ ะฑะฐัะพะฝ ะฒัะตัะฐ โ ะขะธะฟ "ะฅะปะตะฑ" ะฒ ะฝะฐะปะธัะธะธ (ะดะฐะถะต ะตัะปะธ ะฑะตะปัะน ัะปะตะฑ ะบัะฟะปะตะฝ ะดะฐะฒะฝะพ)

2. **ะัะปะธ ะฒัะต ะฟัะพะดัะบัั ัะธะฟะฐ ะบัะฟะปะตะฝั ะดะฐะฒะฝะพ (โฅ 2 ะดะฝะตะน) ะ ะฟัะพะณะฝะพะท ะฟะพะบะฐะทัะฒะฐะตั ะพะบะพะฝัะฐะฝะธะต โค 2 ะดะฝะตะน โ ัะธะฟ "ะะฐะบะฐะฝัะธะฒะฐะตััั"**
   - ะัะธะผะตั: ะะพัะปะตะดะฝะธะน ัะปะตะฑ (ะปัะฑะพะน) ะบัะฟะปะตะฝ 5 ะดะฝะตะน ะฝะฐะทะฐะด, ััะตะดะฝัั ัะฐััะพัะฐ ะฟะพะบัะฟะบะธ ัะปะตะฑะฐ = 7 ะดะฝะตะน โ ะะฐะบะฐะฝัะธะฒะฐะตััั ัะตัะตะท 2 ะดะฝั

3. **ะัะปะธ ะฝะตะดะพััะฐัะพัะฝะพ ะดะฐะฝะฝัั (< 2 ะฟะพะบัะฟะพะบ ัะธะฟะฐ) โ ัะธะฟ "ะะฐััะตั..."**

**ะะฐััะตั ัะฐััะพัั ะฟะพะบัะฟะบะธ ัะธะฟะฐ:**
- ะะตััััั ะะกะ ะฟะพะบัะฟะบะธ ะะกะะฅ ะฟัะพะดัะบัะพะฒ ััะพะณะพ ัะธะฟะฐ (ะฑะฐัะพะฝ, ะฑะตะปัะน ัะปะตะฑ, ะฑะฐะณะตั ะธ ั.ะด.)
- ะะฐัััะธััะฒะฐะตััั ััะตะดะฝัั ัะฐััะพัะฐ ะฟะพะบัะฟะบะธ ะขะะะ (ะฝะต ะบะพะฝะบัะตัะฝะพะณะพ ะฟัะพะดัะบัะฐ)
- ะะฐัะพะดะธััั ะฟะพัะปะตะดะฝัั ะฟะพะบัะฟะบะฐ ะะฎะะะะ ะฟัะพะดัะบัะฐ ััะพะณะพ ัะธะฟะฐ
- ะัะธะผะตะฝัะตััั ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน ะบ ะฟะพัะปะตะดะฝะตะน ะฟะพะบัะฟะบะต ัะธะฟะฐ

**ะะธะทัะฐะปัะฝะพะต ะพัะพัะผะปะตะฝะธะต:**
- ๐ ะัะฐะฝะถะตะฒะฐั ะบะฐััะพัะบะฐ - ะะฐะบะฐะฝัะธะฒะฐะตััั
- ๐ข ะะตะปะตะฝะฐั ะบะฐััะพัะบะฐ - ะ ะฝะฐะปะธัะธะธ
- ๐ต ะกะธะฝัั ะบะฐััะพัะบะฐ - ะะฐััะตั...

### โ 2. ะะตะฐะปะธะทะพะฒะฐะฝะพ ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน

**ะัะพะฑะปะตะผะฐ:**
ะัะปะธ ะฒั ะฟะพะบัะฟะฐะตัะต ะฟัะพะดัะบั ัะฐััะพ (ะฝะฐะฟัะธะผะตั, ะบะฐะถะดัะต 3 ะดะฝั), ะพะฝ ััะฐะทั ะฟะพัะปะต ะฟะพะบัะฟะบะธ ะฟะพะบะฐะทัะฒะฐะป ััะฐััั "ะทะฐะบะฐะฝัะธะฒะฐะตััั".

**ะะตัะตะฝะธะต:**
ะัะพะดัะบั **ะฝะต ะผะพะถะตั** ะฟะพะบะฐะทัะฒะฐัั ััะฐััั "ะทะฐะบะฐะฝัะธะฒะฐะตััั" ะฒ ัะตัะตะฝะธะต 2 ะดะฝะตะน ะฟะพัะปะต ะฟะพะบัะฟะบะธ.

**ะัะธะผะตั:**
```
ะะพะปะพะบะพ (ะฟะพะบัะฟะบะฐ ะบะฐะถะดัะต 3 ะดะฝั)
โโ 4 ะฝะพัะฑัั: ะะฃะะะะ โ
โโ 5 ะฝะพัะฑัั: ะ ะฝะฐะปะธัะธะธ (ะดะตะฝั 1, ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน)
โโ 6 ะฝะพัะฑัั: ะ ะฝะฐะปะธัะธะธ (ะดะตะฝั 2, ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน)  
โโ 7 ะฝะพัะฑัั 1:00: ะะฐะบะฐะฝัะธะฒะฐะตััั (ะดะตะฝั 3, ะฟัะพัะปะพ 3 ะดะฝั = ััะตะดะฝัั ัะฐััะพัะฐ)
```

### โ 3. ะกะพะทะดะฐะฝ Cron Job ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฟะตัะตััะตัะฐ

**ะงัะพ ะดะตะปะฐะตั:**
- ะะฐะฟััะบะฐะตััั **ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฐะท ะฒ ัััะบะธ ะฒ 1:00 UTC** (4:00 MSK)
- ะะตัะตััะธััะฒะฐะตั ััะฐัััั **ะฒัะตั ะฟัะพะดัะบัะพะฒ** ะดะปั ะฒัะตั ัะตะผะตะน
- ะัะธะผะตะฝัะตั ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน
- ะะพะณะธััะตั ัะตะทัะปััะฐัั

**Endpoint:** `/api/recalculate-statuses`

**ะะฐัะฟะธัะฐะฝะธะต:** `0 1 * * *` (ะบะฐะถะดัะน ะดะตะฝั ะฒ 1:00 UTC)

## ๐ ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั

| ะคะฐะนะป | ะะทะผะตะฝะตะฝะธั |
|------|-----------|
| `src/GroceryTrackerApp.tsx` | ะะพะฒะพะต ะพัะพะฑัะฐะถะตะฝะธะต ัะธะฟะพะฒ ะฟัะพะดัะบัะพะฒ |
| `src/services/supabaseService.ts` | ะะตัะพะด `recalculateAllProductStatuses()` |
| `api/recalculate-statuses.js` | **ะะพะฒัะน** API endpoint ะดะปั cron job |
| `vercel.json` | ะะพะฝัะธะณััะฐัะธั cron job |
| `PRODUCT_STATUS_CRON.md` | **ะะพะฒะฐั** ะฟะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั |
| `DEPLOY_INSTRUCTIONS.md` | **ะะพะฒะฐั** ะธะฝััััะบัะธั ะฟะพ ะดะตะฟะปะพั |

## ๐ ะะฐะบ ะทะฐะดะตะฟะปะพะธัั

```bash
# 1. ะะพะฑะฐะฒะธัั ะฒัะต ะธะทะผะตะฝะตะฝะธั
git add .

# 2. ะกะพะทะดะฐัั ะบะพะผะผะธั
git commit -m "feat: ะพะฑะฝะพะฒะปะตะฝะฐ ะปะพะณะธะบะฐ ััะฐัััะพะฒ ะฟัะพะดัะบัะพะฒ ั ะฟัะฐะฒะธะปะพะผ 2-ั ะดะฝะตะน ะธ cron job"

# 3. ะัะฟัะฐะฒะธัั ะฝะฐ ัะตัะฒะตั
git push
```

**Vercel ะฐะฒัะพะผะฐัะธัะตัะบะธ:**
- โ ะกะพะฑะตัะตั ะฟัะพะตะบั
- โ ะะฐะดะตะฟะปะพะธั ะธะทะผะตะฝะตะฝะธั
- โ ะะบัะธะฒะธััะตั cron job

## ๐ ะะฐะบ ะฟัะพะฒะตัะธัั ัะฐะฑะพัั

### 1. ะัะพะฒะตัะธัั ะพัะพะฑัะฐะถะตะฝะธะต ัะธะฟะพะฒ ะฟัะพะดัะบัะพะฒ

1. ะัะบัะพะนัะต ะฟัะธะปะพะถะตะฝะธะต
2. ะะตัะตะนะดะธัะต ะฝะฐ ะณะปะฐะฒะฝัั ัััะฐะฝะธัั
3. ะขะธะฟั ะฟัะพะดัะบัะพะฒ ะดะพะปะถะฝั ะฟะพะบะฐะทัะฒะฐัััั ั ะฝะพะฒัะผ ะดะธะทะฐะนะฝะพะผ (ัะฒะตัะฝัะต ะบะฐััะพัะบะธ ั ะตะดะธะฝัะผ ััะฐัััะพะผ)

### 2. ะัะพัะตััะธัะพะฒะฐัั cron job ะฒัััะฝัั

```bash
curl https://your-app.vercel.app/api/recalculate-statuses
```

**ะะถะธะดะฐะตะผัะน ะพัะฒะตั:**
```json
{
  "success": true,
  "familiesProcessed": 1,
  "totalProductsUpdated": 30,
  "totalErrors": 0
}
```

### 3. ะัะพะฒะตัะธัั cron ะฒ Vercel Dashboard

1. ะัะบัะพะนัะต https://vercel.com/your-username/your-project
2. Settings โ Cron Jobs
3. ะะพะปะถะฝะฐ ะฑััั ะทะฐะดะฐัะฐ: `/api/recalculate-statuses` ั ัะฐัะฟะธัะฐะฝะธะตะผ `0 1 * * *`

### 4. ะัะพะฒะตัะธัั ะฟัะฐะฒะธะปะพ 2-ั ะดะฝะตะน

**ะขะตัั:**
1. ะะพะฑะฐะฒััะต ัะตะบ ั ะฟัะพะดัะบัะพะผ ัะตะณะพะดะฝั
2. ะัะพะดัะบั ะดะพะปะถะตะฝ ะฟะพะบะฐะทัะฒะฐัั ััะฐััั "ะ ะฝะฐะปะธัะธะธ" ะธะปะธ "ะะฐััะตั..."
3. ะะฐะถะต ะตัะปะธ ััะตะดะฝัั ัะฐััะพัะฐ = 3 ะดะฝั, ััะฐััั **ะฝะต ะดะพะปะถะตะฝ ะฑััั** "ะะฐะบะฐะฝัะธะฒะฐะตััั"
4. ะงะตัะตะท 2 ะดะฝั cron job ะฟะตัะตััะธัะฐะตั, ะธ ััะฐััั ะธะทะผะตะฝะธััั ะฝะฐ "ะะฐะบะฐะฝัะธะฒะฐะตััั"

## โฐ ะะพะณะดะฐ ะทะฐะฟััะบะฐะตััั cron job

**ะะฐัะฟะธัะฐะฝะธะต:** ะะฐะถะดัะน ะดะตะฝั ะฒ **1:00 UTC**

**ะญัะพ ัะพะพัะฒะตัััะฒัะตั:**
- ๐ท๐บ **4:00 MSK** (ะะพัะบะฒะฐ)
- ๐บ๐ฆ **3:00 EET** (ะะธะตะฒ)
- ๐ฐ๐ฟ **7:00 ALMT** (ะะปะผะฐัั)

**ะะตัะฒัะน ะทะฐะฟััะบ:** ะัะพะธะทะพะนะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒ ัะปะตะดัััะธะน ัะฐะท ะฒ 1:00 UTC ะฟะพัะปะต ะดะตะฟะปะพั

## ๐ ะะพะณะธะบะฐ ะพะฟัะตะดะตะปะตะฝะธั ััะฐัััะฐ ะขะะะ ะฟัะพะดัะบัะฐ

```javascript
// ะจะฐะณ 1: ะะพะปััะธัั ะฒัะต ะฟัะพะดัะบัั ัะธะฟะฐ (ะฑะฐัะพะฝ, ะฑะตะปัะน ัะปะตะฑ, ะฑะฐะณะตั)
const products = await getProductsByType('ัะปะตะฑ');

// ะจะฐะณ 2: ะัะพะฒะตัะธัั, ะตััั ะปะธ ะฝะตะดะฐะฒะฝะธะต ะฟะพะบัะฟะบะธ ัะธะฟะฐ (< 2 ะดะฝะตะน)
const hasRecentPurchase = products.some(p => 
  daysSince(p.last_purchase) < 2
);

if (hasRecentPurchase) {
  // ะฅะพัั ะพะดะธะฝ ะฟัะพะดัะบั ัะธะฟะฐ ะบัะฟะปะตะฝ ะฝะตะดะฐะฒะฝะพ - ัะธะฟ ะฒ ะฝะฐะปะธัะธะธ
  return 'ok';
}

// ะจะฐะณ 3: ะะพะปััะธัั ะะกะฎ ะธััะพัะธั ะฟะพะบัะฟะพะบ ะะกะะฅ ะฟัะพะดัะบัะพะฒ ัะธะฟะฐ
const history = await getHistoryForAllProductsOfType('ัะปะตะฑ');

// ะจะฐะณ 4: ะััะธัะปะธัั ััะตะดะฝัั ัะฐััะพัั ะฟะพะบัะฟะบะธ ะขะะะ
const avgDays = calculateAverage(history); // ะะฐะฟัะธะผะตั, 7 ะดะฝะตะน

// ะจะฐะณ 5: ะะฐะนัะธ ะฟะพัะปะตะดะฝัั ะฟะพะบัะฟะบั ะะฎะะะะ ะฟัะพะดัะบัะฐ ัะธะฟะฐ
const lastPurchaseOfType = findLatestPurchase(products); // ะะฐะฟัะธะผะตั, 5 ะดะฝะตะน ะฝะฐะทะฐะด

// ะจะฐะณ 6: ะะฐัััะธัะฐัั ะฟัะพะณะฝะพะท ะพะบะพะฝัะฐะฝะธั ะขะะะ
const predictedEnd = lastPurchaseOfType + avgDays; // 5 + 7 = ัะตัะตะท 2 ะดะฝั
const daysUntilEnd = predictedEnd - today; // 2 ะดะฝั

// ะจะฐะณ 7: ะะฟัะตะดะตะปะธัั ััะฐััั ัะธะฟะฐ
if (daysUntilEnd <= 2) {
  return 'ending-soon'; // ะฅะปะตะฑ ะทะฐะบะฐะฝัะธะฒะฐะตััั
} else {
  return 'ok'; // ะฅะปะตะฑ ะฒ ะฝะฐะปะธัะธะธ
}
```

**ะัะธะผะตัั:**

### ะัะธะผะตั 1: ะัะฟะธะปะธ ะฑะฐัะพะฝ ะฒัะตัะฐ
```
ะัะพะดัะบัั ัะธะฟะฐ "ะฅะปะตะฑ":
- ะะฐัะพะฝ: ะบัะฟะปะตะฝ ะฒัะตัะฐ (1 ะดะตะฝั ะฝะฐะทะฐะด)
- ะะตะปัะน ัะปะตะฑ: ะบัะฟะปะตะฝ 10 ะดะฝะตะน ะฝะฐะทะฐะด

ะะตะทัะปััะฐั: ะขะธะฟ "ะฅะปะตะฑ" โ ะ ะฝะฐะปะธัะธะธ โ
ะัะธัะธะฝะฐ: ะััั ะฝะตะดะฐะฒะฝัั ะฟะพะบัะฟะบะฐ (ะฑะฐัะพะฝ)
```

### ะัะธะผะตั 2: ะัะต ะฟัะพะดัะบัั ัะธะฟะฐ ะบัะฟะปะตะฝั ะดะฐะฒะฝะพ
```
ะัะพะดัะบัั ัะธะฟะฐ "ะฅะปะตะฑ":
- ะะฐัะพะฝ: ะบัะฟะปะตะฝ 10 ะดะฝะตะน ะฝะฐะทะฐะด
- ะะตะปัะน ัะปะตะฑ: ะบัะฟะปะตะฝ 5 ะดะฝะตะน ะฝะฐะทะฐะด (ะฟะพัะปะตะดะฝัั ะฟะพะบัะฟะบะฐ ัะธะฟะฐ)

ะััะพัะธั ะฟะพะบัะฟะพะบ ัะปะตะฑะฐ: ะบะฐะถะดัะต 7 ะดะฝะตะน
ะัะพะณะฝะพะท: 5 + 7 = ัะตัะตะท 2 ะดะฝั

ะะตะทัะปััะฐั: ะขะธะฟ "ะฅะปะตะฑ" โ ะะฐะบะฐะฝัะธะฒะฐะตััั โ๏ธ
ะัะธัะธะฝะฐ: ะะพ ะพะบะพะฝัะฐะฝะธั โค 2 ะดะฝะตะน
```

### ะัะธะผะตั 3: ะะฐะทะฝัะต ะฟัะพะดัะบัั ะพะดะฝะพะณะพ ัะธะฟะฐ
```
ะั ะฟะพะบัะฟะฐะตัะต ัะฐะทะฝัะน ัะปะตะฑ:
- 1 ะฝะพัะฑัั: ะะฐัะพะฝ
- 8 ะฝะพัะฑัั: ะะตะปัะน ัะปะตะฑ
- 15 ะฝะพัะฑัั: ะะฐะณะตั
- 22 ะฝะพัะฑัั: ะะฐัะพะฝ

ะกัะตะดะฝัั ัะฐััะพัะฐ ะฟะพะบัะฟะบะธ ะขะะะ "ะฅะปะตะฑ": 7 ะดะฝะตะน
ะะพัะปะตะดะฝัั ะฟะพะบัะฟะบะฐ ัะธะฟะฐ: 22 ะฝะพัะฑัั

25 ะฝะพัะฑัั (3 ะดะฝั ะฟะพัะปะต):
- ะััะฐะปะพัั: 22 + 7 - 25 = 4 ะดะฝั
- ะกัะฐััั: ะ ะฝะฐะปะธัะธะธ โ

28 ะฝะพัะฑัั (6 ะดะฝะตะน ะฟะพัะปะต):
- ะััะฐะปะพัั: 22 + 7 - 28 = 1 ะดะตะฝั
- ะกัะฐััั: ะะฐะบะฐะฝัะธะฒะฐะตััั โ๏ธ
```

## ๐ฏ ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ัะธััะตะผั

### 1. ะะพะปะตะต ัะพัะฝัะต ััะฐัััั
- โ ะะตั ะปะพะถะฝัั ััะฐะฑะฐััะฒะฐะฝะธะน ะดะปั ัะพะปัะบะพ ััะพ ะบัะฟะปะตะฝะฝัั ะฟัะพะดัะบัะพะฒ
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะตัะตััะตั ัะฐะท ะฒ ะดะตะฝั
- โ ะฃัะตั ะธััะพัะธะธ ะฟะพะบัะฟะพะบ ะฒัะตะณะพ ัะธะฟะฐ ะฟัะพะดัะบัะฐ, ะฐ ะฝะต ัะพะปัะบะพ ะบะพะฝะบัะตัะฝะพะณะพ
- โ **ะัะฐะฒะธะปัะฝะฐั ะปะพะณะธะบะฐ ะดะปั ัะฐะทะฝัั ะฟัะพะดัะบัะพะฒ ะพะดะฝะพะณะพ ัะธะฟะฐ** - ะตัะปะธ ะบัะฟะธะปะธ ะฑะตะปัะน ัะปะตะฑ ะฒะผะตััะพ ะฑะฐัะพะฝะฐ, ััะฐััั "ะฅะปะตะฑ" ะพััะฐะตััั "ะ ะฝะฐะปะธัะธะธ"

### 2. ะฃะฟัะพัะตะฝะฝัะน ะธะฝัะตััะตะนั
- โ ะะตะฝััะต ัะธัั ะธ ะธะฝัะพัะผะฐัะธะธ ะฝะฐ ะณะปะฐะฒะฝะพะน
- โ ะะธะทัะฐะปัะฝะพ ะฟะพะฝััะฝัะต ัะฒะตัะฝัะต ะบะฐััะพัะบะธ
- โ ะคะพะบัั ะฝะฐ ััะฐัััะต ัะธะฟะฐ, ะฐ ะฝะต ะฝะฐ ะบะพะปะธัะตััะฒะต ะฟัะพะดัะบัะพะฒ
- โ **ะะดะธะฝ ััะฐััั ะฝะฐ ัะธะฟ** - ะฝะต ะฒะฐะถะฝะพ, ัะบะพะปัะบะพ ัะฐะทะฝัั ัะปะตะฑะพะฒ ะฒั ะฟะพะบัะฟะฐะตัะต

### 3. ะะฒัะพะผะฐัะธะทะฐัะธั
- โ ะะต ะฝัะถะฝะพ ะฒัััะฝัั ะฟะตัะตััะธััะฒะฐัั ััะฐัััั
- โ ะกัะฐัััั ะพะฑะฝะพะฒะปััััั ะบะฐะถะดัั ะฝะพัั ะฐะฒัะพะผะฐัะธัะตัะบะธ
- โ ะะพะณะธัะพะฒะฐะฝะธะต ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

### 4. ะะธะฑะบะพััั ะฒัะฑะพัะฐ
- โ ะะพะถะตัะต ะฟะพะบัะฟะฐัั ัะฐะทะฝัะต ะฟัะพะดัะบัั ะพะดะฝะพะณะพ ัะธะฟะฐ (ะฑะฐัะพะฝ โ ะฑะตะปัะน ัะปะตะฑ โ ะฑะฐะณะตั)
- โ ะกะธััะตะผะฐ ะพััะปะตะถะธะฒะฐะตั ัะฐััะพัั ะฟะพะบัะฟะบะธ ะขะะะ, ะฐ ะฝะต ะบะพะฝะบัะตัะฝะพะณะพ ะฟัะพะดัะบัะฐ
- โ ะะต ะฑัะดะตั ะฒะตัะฝะพ ะณะพัะตัั "ะทะฐะบะฐะฝัะธะฒะฐะตััั" ะธะท-ะทะฐ ะพะดะฝะพะณะพ ััะฐัะพะณะพ ะฟัะพะดัะบัะฐ

## ๐ ะะตะทะพะฟะฐัะฝะพััั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะทะฐัะธัั cron endpoint ัะตะบัะตัะฝัะผ ัะพะบะตะฝะพะผ:

**ะ ะฝะฐัััะพะนะบะฐั Vercel:**
```
CRON_SECRET=your-random-secret-token
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
```bash
curl https://your-app.vercel.app/api/recalculate-statuses \
  -H "Authorization: Bearer your-random-secret-token"
```

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- `PRODUCT_STATUS_CRON.md` - ะฟะพะดัะพะฑะฝะฐั ัะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
- `DEPLOY_INSTRUCTIONS.md` - ะฟะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั ะฟะพ ะดะตะฟะปะพั

## โ๏ธ ะะฐะถะฝัะต ะผะพะผะตะฝัั

1. **ะะตัะฟะปะฐัะฝัะน ะฟะปะฐะฝ Vercel:** ะะพะทะฒะพะปัะตั ะทะฐะฟััะบะฐัั cron job **ะผะฐะบัะธะผัะผ ัะฐะท ะฒ ะดะตะฝั** - ััะพ ะธะผะตะฝะฝะพ ัะพ, ััะพ ะฝะฐะผ ะฝัะถะฝะพ

2. **ะะตัะฒัะน ะทะฐะฟััะบ:** ะัะพะธะทะพะนะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒ ัะปะตะดัััะธะน ัะฐะท ะฒ 1:00 UTC ะฟะพัะปะต ะดะตะฟะปะพั. ะะพะถะฝะพ ะทะฐะฟัััะธัั ะฒัััะฝัั ะฟััะผะพ ัะตะนัะฐั.

3. **ะัะฐะฒะธะปะพ 2-ั ะดะฝะตะน:** ะัะธะผะตะฝัะตััั ะฒ ะบะพะดะต API, ะฐ ะฝะต ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั - ะปะตะณะบะพ ะธะทะผะตะฝะธัั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

4. **ะััะพัะธั ะฟะพะบัะฟะพะบ:** ะะปั ัะพัะฝะพะณะพ ัะฐััะตัะฐ ะฝัะถะฝะพ ะผะธะฝะธะผัะผ 2 ะฟะพะบัะฟะบะธ ะฟัะพะดัะบัะฐ (ะธะปะธ ะฟัะพะดัะบัะพะฒ ัะพะณะพ ะถะต ัะธะฟะฐ)

## ๐ ะัะบะฐั ะธะทะผะตะฝะตะฝะธะน

ะัะปะธ ััะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ:

```bash
# ะัะบะฐัะธัั ะฟะพัะปะตะดะฝะธะน ะบะพะผะผะธั
git revert HEAD
git push

# Vercel ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะดะตะฟะปะพะธั ะพัะบะฐั
```

## โ ะงะตะบะปะธัั ะฟะตัะตะด ะดะตะฟะปะพะตะผ

- [ ] ะัะต ัะฐะนะปั ัะพััะฐะฝะตะฝั
- [ ] ะะทะผะตะฝะตะฝะธั ะดะพะฑะฐะฒะปะตะฝั ะฒ git (`git add .`)
- [ ] ะกะพะทะดะฐะฝ ะบะพะผะผะธั (`git commit -m "..."`)
- [ ] ะะทะผะตะฝะตะฝะธั ะพัะฟัะฐะฒะปะตะฝั ะฝะฐ ัะตัะฒะตั (`git push`)
- [ ] Vercel ะฝะฐัะฐะป ะดะตะฟะปะพะน (ะฟัะพะฒะตัะธัั ะฒ dashboard)
- [ ] ะะพัะปะต ะดะตะฟะปะพั ะฟัะพัะตััะธัะพะฒะฐัั ะณะปะฐะฒะฝัั ัััะฐะฝะธัั
- [ ] ะัะพัะตััะธัะพะฒะฐัั cron endpoint ะฒัััะฝัั
- [ ] ะัะพะฒะตัะธัั ะปะพะณะธ ะฟะตัะฒะพะณะพ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะทะฐะฟััะบะฐ (ะฝะฐ ัะปะตะดัััะธะน ะดะตะฝั)

---

**ะะฐัะฐ ะธะทะผะตะฝะตะฝะธะน:** 4 ะฝะพัะฑัั 2024  
**ะะตััะธั:** 1.0

