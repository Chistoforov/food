<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫ PWA</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        canvas {
            border: 1px solid #ddd;
            margin: 20px 0;
            display: none;
        }
        button {
            background: #4F46E5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        button:hover {
            background: #4338CA;
        }
        .preview {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }
        .preview-item {
            text-align: center;
        }
        .preview-item img {
            border: 1px solid #ddd;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõí –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫ –¥–ª—è Grocery Tracker</h1>
        <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∫–æ–Ω–æ–∫ PWA</p>
        
        <button onclick="generateIcons()">–°–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫–∏</button>
        
        <div id="preview" class="preview"></div>
        
        <canvas id="canvas192" width="192" height="192"></canvas>
        <canvas id="canvas512" width="512" height="512"></canvas>
        
        <div id="instructions" style="display: none; margin-top: 20px; text-align: left;">
            <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
            <ol>
                <li>–°–∫–∞—á–∞–π—Ç–µ –æ–±–µ –∏–∫–æ–Ω–∫–∏ (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫)</li>
                <li>–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∏—Ö –≤ <code>icon-192.png</code> –∏ <code>icon-512.png</code></li>
                <li>–ü–æ–º–µ—Å—Ç–∏—Ç–µ –∏—Ö –≤ –ø–∞–ø–∫—É <code>public/</code> –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</li>
                <li>–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ PWA</li>
            </ol>
        </div>
    </div>

    <script>
        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            
            // –§–æ–Ω
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#4F46E5');
            gradient.addColorStop(1, '#7C3AED');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // –ö–æ—Ä–∑–∏–Ω–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
            ctx.strokeStyle = 'white';
            ctx.fillStyle = 'white';
            ctx.lineWidth = size * 0.04;
            
            const centerX = size / 2;
            const centerY = size / 2;
            const iconSize = size * 0.5;
            
            // –¢–µ–ª–æ –∫–æ—Ä–∑–∏–Ω—ã
            ctx.beginPath();
            ctx.moveTo(centerX - iconSize * 0.3, centerY - iconSize * 0.2);
            ctx.lineTo(centerX - iconSize * 0.4, centerY + iconSize * 0.4);
            ctx.lineTo(centerX + iconSize * 0.4, centerY + iconSize * 0.4);
            ctx.lineTo(centerX + iconSize * 0.3, centerY - iconSize * 0.2);
            ctx.closePath();
            ctx.stroke();
            
            // –†—É—á–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
            ctx.beginPath();
            ctx.arc(centerX, centerY - iconSize * 0.3, iconSize * 0.25, Math.PI, 0, false);
            ctx.stroke();
            
            // –õ–∏–Ω–∏–∏ –Ω–∞ –∫–æ—Ä–∑–∏–Ω–µ
            for (let i = -1; i <= 1; i++) {
                ctx.beginPath();
                ctx.moveTo(centerX + i * iconSize * 0.15, centerY - iconSize * 0.2);
                ctx.lineTo(centerX + i * iconSize * 0.2, centerY + iconSize * 0.4);
                ctx.stroke();
            }
        }

        function generateIcons() {
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏ 192x192
            const canvas192 = document.getElementById('canvas192');
            drawIcon(canvas192, 192);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏ 512x512
            const canvas512 = document.getElementById('canvas512');
            drawIcon(canvas512, 512);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é
            const preview = document.getElementById('preview');
            preview.innerHTML = `
                <div class="preview-item">
                    <h4>192x192</h4>
                    <img src="${canvas192.toDataURL()}" width="192" height="192" id="img192">
                    <br>
                    <button onclick="downloadIcon('img192', 'icon-192.png')">–°–∫–∞—á–∞—Ç—å 192x192</button>
                </div>
                <div class="preview-item">
                    <h4>512x512</h4>
                    <img src="${canvas512.toDataURL()}" width="192" height="192" id="img512">
                    <br>
                    <button onclick="downloadIcon('img512', 'icon-512.png')">–°–∫–∞—á–∞—Ç—å 512x512</button>
                </div>
            `;
            
            document.getElementById('instructions').style.display = 'block';
        }

        function downloadIcon(imgId, filename) {
            const img = document.getElementById(imgId);
            const link = document.createElement('a');
            link.download = filename;
            link.href = img.src;
            link.click();
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', generateIcons);
    </script>
</body>
</html>

