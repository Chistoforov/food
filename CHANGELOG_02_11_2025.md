# Changelog - 02.11.2025

## [1.1.0] - 2025-11-02

### Added
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚ú® Realtime –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è pending_receipts —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
- üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Realtime:
  - `REALTIME_SETUP_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
  - `REALTIME_QUICK_START_RU.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - `–ò–ó–ú–ï–ù–ï–ù–ò–Ø_REALTIME.md` - —Ä–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - `–ü–ê–ú–Ø–¢–ö–ê_–ù–ê–°–¢–†–û–ô–ö–ê_REALTIME.txt` - –∫—Ä–∞—Ç–∫–∞—è –ø–∞–º—è—Ç–∫–∞
  - `enable_realtime_for_pending_receipts.sql` - SQL —Å–∫—Ä–∏–ø—Ç

### Changed
- üîß –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ `SupabaseService.subscribeToPendingReceipts()`:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üîß –£–ª—É—á—à–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç UploadPage –≤ `GroceryTrackerApp.tsx`:
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ pending receipts
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ realtime —Å–æ–±—ã—Ç–∏–π
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏—è —á–µ–∫–æ–≤

### Fixed
- üêõ –°—Ç–∞—Ç—É—Å —á–µ–∫–∞ —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üêõ –¢–µ–∫—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- üêõ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —á–µ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã

### Technical Details

#### Modified Files
- `src/GroceryTrackerApp.tsx`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ activeTab –∏–∑ localStorage
  - –î–æ–±–∞–≤–ª–µ–Ω useEffect –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∫–ª–∞–¥–∫–∏
  - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UploadPage
  - –£–ª—É—á—à–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤

- `src/services/supabaseService.ts`
  - –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ subscribeToPendingReceipts()
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Å callback
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ realtime —Å–æ–±—ã—Ç–∏–π
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π (INSERT, UPDATE, DELETE)

#### New Files
- `REALTIME_SETUP_GUIDE.md`
- `REALTIME_QUICK_START_RU.md`
- `–ò–ó–ú–ï–ù–ï–ù–ò–Ø_REALTIME.md`
- `–ü–ê–ú–Ø–¢–ö–ê_–ù–ê–°–¢–†–û–ô–ö–ê_REALTIME.txt`
- `enable_realtime_for_pending_receipts.sql`
- `README_–û–ë–ù–û–í–õ–ï–ù–ò–ï_02_11_2025.md`
- `CHANGELOG_02_11_2025.md`

### Dependencies
- No new dependencies added
- Build passes successfully ‚úÖ

### Migration Required
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á–µ–Ω–∏–µ Realtime –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `pending_receipts` –≤ Supabase
- SQL: `ALTER PUBLICATION supabase_realtime ADD TABLE pending_receipts;`
- –°–º. `REALTIME_QUICK_START_RU.md` –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

### Testing
- ‚úÖ TypeScript compilation successful
- ‚úÖ Vite build successful
- ‚úÖ No linter errors
- ‚è≥ Manual testing required for Realtime (after enabling in Supabase)

### Breaking Changes
- None

### Known Issues
- Realtime –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Supabase

### User Impact
- üéØ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- üéØ –õ—É—á—à–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏
- üéØ –ú–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üéØ –õ—É—á—à–∞—è –æ—Ç–ª–∞–¥–∫–∞ - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Performance
- ‚ú® Realtime –ø–æ–¥–ø–∏—Å–∫–∞ - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ú® localStorage - –±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚ú® –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### Security
- üîí RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è pending_receipts –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏
- üîí Realtime —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ family_id
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
git pull origin main
npm install
npm run dev
```

### Production (Vercel)
```bash
git add .
git commit -m "Add realtime updates for pending receipts"
git push origin main
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### Post-deployment
1. –í–∫–ª—é—á–∏—Ç—å Realtime –≤ Supabase (—Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤ –ø–æ–¥–ø–∏—Å–∫–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–≤—É—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## Rollback Plan

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
git revert HEAD
git push origin main
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Vercel Dashboard:
1. Deployments ‚Üí Previous deployment
2. Promote to Production

---

**–î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞:** 02.11.2025  
**–í–µ—Ä—Å–∏—è:** 1.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for production (–ø–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è Realtime)

